#pragma once

#include <Windows.h>
#include <lstate.h>
#include <string>
#include <vector>

namespace Utils
{
	inline void AddFunction(lua_State* L, const char* Name, lua_CFunction Function)
	{
		lua_pushcclosure(L, Function, nullptr, 0);
		lua_setglobal(L, Name);
	}

	inline void AddTableFunction(lua_State* L, const char* Name, lua_CFunction Function)
	{
		lua_pushcclosure(L, Function, nullptr, 0);
		lua_setfield(L, -2, Name);
	}

    inline bool IsInGame(uintptr_t DataModel)
    {
		uintptr_t GameLoaded = *reinterpret_cast<uintptr_t*>(DataModel + Offsets::DataModel::GameLoaded);
		if (GameLoaded != 31)
			return false;

        return true;
    }
}